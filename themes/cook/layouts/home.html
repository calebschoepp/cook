{{ define "main" }}
<div class="space-y-12">
  <!-- Hero Section -->
  <div class="text-center py-12">
    <h1 class="text-5xl font-bold tracking-tight mb-4">{{ site.Title }}</h1>
    <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
      Discover delicious recipes for every occasion
    </p>
  </div>

  <!-- Random Recipe Picker -->
  <div class="max-w-2xl mx-auto p-8 border border-border rounded-lg bg-card shadow-lg">
    <h2 class="text-3xl font-semibold mb-6 text-center">Discover a Random Recipe</h2>

    <!-- Course Selector -->
    <div class="mb-6">
      <label for="course-select" class="block text-sm font-medium mb-2">Choose a course:</label>
      <select
        id="course-select"
        class="w-full px-4 py-2 border border-border rounded-md bg-background focus:outline-none focus:ring-2 focus:ring-primary"
      >
        <option value="All">All Courses</option>
        <option value="Dessert">Dessert</option>
        <option value="Main">Main</option>
        <option value="Appetizer">Appetizer</option>
        <option value="Baked Good">Baked Good</option>
      </select>
    </div>

    <!-- Pick Button -->
    <button
      onclick="pickRandomRecipe()"
      class="w-full px-6 py-3 mb-6 bg-primary text-primary-foreground rounded-md font-medium hover:bg-primary/90 transition-colors text-lg"
    >
      Pick Random Recipe
    </button>

    <!-- Recipe Display Area -->
    <div id="random-recipe-display" class="min-h-[120px]">
      <p class="text-muted-foreground italic text-center">Select a course and click the button to discover a recipe</p>
    </div>
  </div>

  <!-- Quick Links -->
  <div class="grid md:grid-cols-2 gap-6">
    <a href="/recipes" class="block p-8 border border-border rounded-lg hover:shadow-lg transition-shadow group">
      <h2 class="text-2xl font-semibold mb-2 group-hover:text-primary transition-colors">
        View All Recipes
      </h2>
      <p class="text-muted-foreground">Browse our complete recipe collection</p>
    </a>

    <a href="/courses" class="block p-8 border border-border rounded-lg hover:shadow-lg transition-shadow group">
      <h2 class="text-2xl font-semibold mb-2 group-hover:text-primary transition-colors">
        Browse by Course
      </h2>
      <p class="text-muted-foreground">Filter recipes by course type</p>
    </a>
  </div>

  <!-- Recent Recipes -->
  <div>
    <h2 class="text-3xl font-bold mb-6">Recent Recipes</h2>
    <div class="grid md:grid-cols-3 gap-6">
      {{ range first 6 (where site.RegularPages "Type" "recipe") }}
      <a href="{{ .RelPermalink }}" class="block border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow group">
        {{ with .Params.image }}
        <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-48 object-cover">
        {{ else }}
        <div class="w-full h-48 bg-secondary"></div>
        {{ end }}
        <div class="p-4">
          <h3 class="font-semibold text-lg mb-2 group-hover:text-primary transition-colors">{{ .Title }}</h3>
          {{ with .Params.description }}
          <p class="text-sm text-muted-foreground line-clamp-2">{{ . }}</p>
          {{ end }}
        </div>
      </a>
      {{ end }}
    </div>
  </div>
</div>
{{ end }}
