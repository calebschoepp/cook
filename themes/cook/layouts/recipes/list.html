{{ define "main" }}
<div class="space-y-8">
  <div class="border-b border-border pb-6">
    <h1 class="text-4xl font-bold tracking-tight">{{ .Title }}</h1>
    {{ with .Content }}
    <div class="mt-4 text-muted-foreground">{{ . }}</div>
    {{ end }}
  </div>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
    {{ range .Pages }}
    <a href="{{ .RelPermalink }}" class="block border border-border rounded-lg overflow-hidden hover:shadow-lg transition-shadow group">
      {{ with .Params.image }}
      <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-48 object-cover">
      {{ else }}
      <div class="w-full h-48 bg-secondary flex items-center justify-center">
        <span class="text-4xl">ğŸ½ï¸</span>
      </div>
      {{ end }}
      <div class="p-4">
        <h2 class="font-semibold text-xl mb-2 group-hover:text-primary transition-colors">{{ .Title }}</h2>
        {{ with .Params.description }}
        <p class="text-sm text-muted-foreground line-clamp-3 mb-3">{{ . }}</p>
        {{ end }}

        <div class="flex flex-wrap gap-2 text-xs">
          {{ with .GetTerms "courses" }}
          {{ range . }}
          <span class="px-2 py-1 bg-primary/10 text-primary rounded-full">{{ .LinkTitle }}</span>
          {{ end }}
          {{ end }}
        </div>
      </div>
    </a>
    {{ end }}
  </div>
</div>
{{ end }}
